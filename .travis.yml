language: haskell

ghc: 
  - "8.0"
  - "8.2"

services:
  - mongodb

sudo: required

before_install: 
  - cabal install alex
  - cabal install happy
  - cabal install BNFC
  - npm install -g npm
  - sudo pip install virtualenv
  - virtualenv venv
  - source venv/bin/activate

script:
  - cabal new-configure --enable-tests && cabal new-build && cabal new-test
  - bash scripts/testing/end_to_end_tests.sh 0

